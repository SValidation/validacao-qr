<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Sistema de Validação</title>

  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: #f2f6fb;
      text-align: center;
    }

    /* TOPO */
    .topo {
      background: linear-gradient(to right, #0a4fa3, #2f80ed);
      padding: 20px;
    }

    .logo {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 14px;
      color: white;
      font-size: 26px;
      font-weight: bold;
    }

    /* ESCUDO PROFISSIONAL */
    .escudo {
      width: 55px;
      height: 65px;
      background: white;
      border-radius: 0 0 18px 18px;
      clip-path: polygon(
        50% 100%,
        0% 75%,
        0% 0%,
        100% 0%,
        100% 75%
      );
      display: flex;
      align-items: center;
      justify-content: center;
      border: 3px solid #ffffff;
      box-shadow: 0px 4px 10px rgba(0,0,0,0.25);
    }

    .escudo span {
      font-weight: bold;
      font-size: 18px;
      color: #0a4fa3;
      line-height: 1.1;
      text-align: center;
    }

    /* CARD */
    .card {
      width: 92%;
      max-width: 720px;
      background: white;
      margin: 60px auto;
      padding: 35px;
      border-radius: 18px;
      box-shadow: 0px 8px 25px rgba(0,0,0,0.15);
    }

    .icone {
      font-size: 80px;
      margin-bottom: 15px;
    }

    .titulo-ok {
      color: green;
      font-size: 26px;
      font-weight: bold;
    }

    .titulo-erro {
      color: red;
      font-size: 26px;
      font-weight: bold;
    }

    /* DADOS */
    .info {
      margin-top: 25px;
      text-align: left;
      font-size: 16.5px;
      line-height: 1.9;
    }

    .bloco {
      background: #f8fbff;
      border-left: 5px solid #2f80ed;
      padding: 15px;
      border-radius: 10px;
      margin-top: 18px;
    }

    .bloco b {
      color: #111;
    }

    /* QR CODE */
    .qrcode-box {
      margin-top: 25px;
      text-align: center;
    }

    .qrcode-box img {
      width: 175px;
      margin-top: 10px;
      border: 6px solid #f2f6fb;
      border-radius: 12px;
    }

    footer {
      margin-top: 50px;
      font-size: 14px;
      color: gray;
      padding-bottom: 20px;
    }
  </style>
</head>

<body>

  <!-- TOPO -->
  <header class="topo">
    <div class="logo">
      <div class="escudo">
        <span>S<br>V</span>
      </div>
      <span>Sistema de Validação</span>
    </div>
  </header>

  <!-- CARD -->
  <div class="card">
    <div id="conteudo"></div>
  </div>

  <footer>© 2026 - Sistema de Validação</footer>

  <script>
    /* Banco de dados simulado */
    const atendimentosValidos = {
      "112695243": {
        documento: "Atestado de Atendimento",
        data: "04/02/2026 - 10:26 BRT",
        situacao: "Atendido",
        unidade: "(4272619) UPA CONTINENTE",
        profissional: "Mariana Radulski",
        crm: "35527",
        paciente: "SELSON THIAGO MIRANDA DIAS",
        cns: "702.905.519.307.574",
        cpf: "903.024.512-34"
      }
    };

    /* Captura código da URL */
    const params = new URLSearchParams(window.location.search);
    const codigo = params.get("codigo");

    const conteudo = document.getElementById("conteudo");

    if (codigo && atendimentosValidos[codigo]) {

      const dados = atendimentosValidos[codigo];

      /* QR Code automático */
      const linkValidacao = window.location.href;
      const qrCodeUrl =
        "https://api.qrserver.com/v1/create-qr-code/?size=220x220&data="
        + encodeURIComponent(linkValidacao);

      conteudo.innerHTML = `
        <div class="icone">✅</div>
        <div class="titulo-ok">Documento Autenticado</div>

        <div class="info">

          <div class="bloco">
            <b>Tipo de Documento:</b> ${dados.documento}<br>
            <b>Atendimento Nº:</b> ${codigo}<br>
            <b>Data do Atendimento:</b> ${dados.data}<br>
            <b>Situação:</b> ${dados.situacao}
          </div>

          <div class="bloco">
            <b>Unidade:</b> ${dados.unidade}<br>
            <b>Profissional:</b> ${dados.profissional}<br>
            <b>CRM:</b> ${dados.crm}
          </div>

          <div class="bloco">
            <b>Paciente:</b> ${dados.paciente}<br>
            <b>CNS:</b> ${dados.cns}<br>
            <b>CPF:</b> ${dados.cpf}
          </div>

        </div>

        <div class="qrcode-box">
          <h3>QR Code de Verificação</h3>
          <p>Escaneie para consultar este documento:</p>
          <img src="${qrCodeUrl}" alt="QR Code">
        </div>
      `;

    } else {

      conteudo.innerHTML = `
        <div class="icone">❌</div>
        <div class="titulo-erro">Documento Não Encontrado</div>

        <div class="info">
          <div class="bloco">
            <b>Código consultado:</b> ${codigo ? codigo : "Nenhum"}<br><br>
            Nenhum registro válido foi localizado.
          </div>
        </div>
      `;
    }
  </script>

</body>
</html>
