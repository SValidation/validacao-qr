<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Sistema de Valida√ß√£o</title>

  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: #f2f6fb;
      text-align: center;
    }

    /* TOPO */
    .topo {
      background: linear-gradient(to right, #0a4fa3, #2f80ed);
      padding: 20px;
    }

    .logo {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
      color: white;
      font-size: 26px;
      font-weight: bold;
    }

    .escudo {
      width: 48px;
      height: 48px;
      border: 2px solid white;
      border-radius: 14px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      font-size: 18px;
    }

    /* CARD */
    .card {
      width: 92%;
      max-width: 700px;
      background: white;
      margin: 60px auto;
      padding: 35px;
      border-radius: 18px;
      box-shadow: 0px 8px 25px rgba(0,0,0,0.15);
    }

    .icone {
      font-size: 80px;
      margin-bottom: 15px;
    }

    .titulo-ok {
      color: green;
      font-size: 26px;
      font-weight: bold;
    }

    .titulo-erro {
      color: red;
      font-size: 26px;
      font-weight: bold;
    }

    /* INFOS */
    .info {
      margin-top: 25px;
      text-align: left;
      font-size: 17px;
      line-height: 1.9;
    }

    hr {
      border: none;
      border-top: 1px solid #ddd;
      margin: 15px 0;
    }

    /* QR CODE */
    .qrcode-box {
      margin-top: 25px;
      text-align: center;
    }

    .qrcode-box img {
      width: 160px;
      margin-top: 10px;
      border: 6px solid #f2f6fb;
      border-radius: 12px;
    }

    /* BOT√ÉO */
    button {
      margin-top: 30px;
      padding: 14px 25px;
      border: none;
      border-radius: 10px;
      font-size: 16px;
      cursor: pointer;
      background: #2f80ed;
      color: white;
    }

    button:hover {
      background: #125bb5;
    }

    footer {
      margin-top: 50px;
      font-size: 14px;
      color: gray;
    }
  </style>
</head>

<body>

  <!-- TOPO -->
  <header class="topo">
    <div class="logo">
      <div class="escudo">SV</div>
      <span>Sistema de Valida√ß√£o</span>
    </div>
  </header>

  <!-- CARD -->
  <div class="card">
    <div id="conteudo"></div>

    <button onclick="window.location.href='index.html'">
      üîç Nova Consulta
    </button>
  </div>

  <footer>¬© 2026 - Sistema de Valida√ß√£o</footer>

  <script>
    /* Banco de dados simulado */
    const atendimentosValidos = {
      "112695243": {
        data: "04/02/2026 - 10:26 BRT",
        situacao: "Atendido",
        unidade: "(4272619) UNIDADE DE PRONTO ATENDIMENTO - UPA CONTINENTE",
        profissional: "(522822809) Mariana Radulski",
        crm: "35527",
        paciente: "(1732607) SELSON THIAGO MIRANDA DIAS",
        cns: "702.905.*.*.*",
        cpf: "903.*.*-**"
      }
    };

    /* Captura c√≥digo da URL */
    const params = new URLSearchParams(window.location.search);
    const codigo = params.get("codigo");

    const conteudo = document.getElementById("conteudo");

    /* Se encontrado */
    if (codigo && atendimentosValidos[codigo]) {

      const dados = atendimentosValidos[codigo];

      /* Link atual para QR Code */
      const linkValidacao = window.location.href;

      /* QR Code gerado usando API p√∫blica */
      const qrCodeUrl =
        "https://api.qrserver.com/v1/create-qr-code/?size=200x200&data="
        + encodeURIComponent(linkValidacao);

      conteudo.innerHTML = `
        <div class="icone">‚úÖ</div>
        <div class="titulo-ok">Documento V√°lido</div>

        <div class="info">
          <hr>
          <b>Atendimento n√∫mero:</b> ${codigo}<br>
          <b>Data do atendimento:</b> ${dados.data}<br>
          <b>Situa√ß√£o do Atendimento:</b> ${dados.situacao}<br>

          <hr>
          <b>Unidade:</b> ${dados.unidade}<br>

          <hr>
          <b>Profissional:</b> ${dados.profissional}<br>
          <b>CRM:</b> ${dados.crm}<br>

          <hr>
          <b>Paciente:</b> ${dados.paciente}<br>
          <b>CNS do Paciente:</b> ${dados.cns}<br>
          <b>CPF do Paciente:</b> ${dados.cpf}<br>
        </div>

        <div class="qrcode-box">
          <h3>QR Code de Verifica√ß√£o</h3>
          <p>Escaneie para consultar este atendimento:</p>
          <img src="${qrCodeUrl}" alt="QR Code">
        </div>
      `;

    } else {

      conteudo.innerHTML = `
        <div class="icone">‚ùå</div>
        <div class="titulo-erro">C√≥digo N√£o Encontrado</div>

        <div class="info">
          <hr>
          <b>C√≥digo consultado:</b> ${codigo ? codigo : "Nenhum"} <br><br>
          Por favor, verifique os dados e tente novamente.
        </div>
      `;
    }
  </script>

</body>
</html>
